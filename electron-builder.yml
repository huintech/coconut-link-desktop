appId: 'net.huintech.scratch-link'
productName: "CoconutScratchLink"
directories:
  buildResources: buildResources
  output: dist
extraResources: ["tools", "external-resources", 'firmwares', "statics", "drivers"]
#asar: false
files:
    - '**/*'
    - dist
    - '!lib'
    - '!src'
    - '!**/node_modules/*/{CHANGELOG.md,README.md,README,readme.md,readme,node.lib}'
    - '!**/node_modules/*/{test,__tests__,tests,powered-test,example,examples,docs}'
    - '!**/node_modules/@angular/common/locales'
    - '!**/node_modules/@angular/compiler/src'
    - '!**/node_modules/node-gyp'
    - '!**/node_modules/**/*.d.ts'
    - '!**/node_modules/**/*.map'
    - '!**/node_modules/**/include/node'
    - '!**/node_modules/.bin'
    - '!**/node_modules/*/*/{esm5,fesm5,esm2015,fesm2015,_esm2015,_fesm2015}'
    - '!**/*.{woff,ttf,otf,eot}'
    - '!**/*.{iml,o,hprof,orig,pyc,pyo,rbc,swp,csproj,sln,xproj}'
    - '!.editorconfig'
    - '!**/._*'
    - '!**/{.DS_Store,.git,.hg,.svn,CVS,RCS,SCCS,.gitignore,.gitattributes}'
    - '!**/{__pycache__,thumbs.db,.flowconfig,.idea,.vs,.nyc_output}'
    - '!**/{appveyor.yml,.travis.yml,circle.yml}'
    - '!**/{npm-debug.log,yarn.lock,.yarn-integrity,.yarn-metadata.json}'
    - '!**/deps/cpu_features/build'
publish: # empty provider list = don't publish

mac:
  category: public.app-category.education
  entitlements: buildResources/entitlements.mac.plist
  gatekeeperAssess: true
  hardenedRuntime: true
  icon: buildResources/scratch-arduino-link.icns
  provisioningProfile: embedded.provisionprofile
  artifactName: "CoconutScratchLink-${version}.${ext}"
  target:
    - dmg
    # - mas
dmg:
  title: "Coconut Scratch Link ${version}"
# mas:
#   category: public.app-category.education
#   entitlements: buildResources/entitlements.mas.plist
#   entitlementsInherit: buildResources/entitlements.mas.inherit.plist
#   hardenedRuntime: false
#   icon: buildResources/OpenBlock-Link.icns

win:
  icon: buildResources/scratch-arduino-link.ico
  target:
    # - appx
    - nsis
# appx:
#   identityName: OpenBlock.OpenBlockLinkDesktop
#   publisherDisplayName: "OpenBlock"
#   publisher: "CN=2EC43DF1-469A-4119-9AB9-568A0A1FF65F"
#   artifactName: "OpenBlock Link Desktop ${version}.${ext}"
nsis:
  oneClick: false # allow user to choose per-user or per-machine
  allowToChangeInstallationDirectory: true
  include: buildResources/installer.nsh
#   license: LICENSE
  artifactName: "CoconutScratchLink-${version}-Setup.${ext}"
